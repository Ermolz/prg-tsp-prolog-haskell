# Порівняння Prolog та Haskell у реалізації TSP

## Що спільного

- Однаковий I/O: обидві реалізації читають файли `*.tsp` і виводять рядок `cost=<int> tour=[1,...,1]`.
- Однакові інстанси: використовуються ті самі файли в `data/instances/`.
- Точний розв'язок: вартість (cost) збігається для всіх алгоритмів на одному інстансі.

## Prolog bruteforce — generate & test

- `permutation/2` генерує перестановки міст [2..N].
- Тур будується як [1|Perm]++[1], вартість обчислюється через `tour_cost/3`.
- `aggregate_all(min(Cost, Tour), candidate_tour(...), min(Cost, Tour))` обирає мінімум.
- Модель: недетермінованість, backtracking, немає явних циклів.

## Prolog CLP(FD) — декларативні обмеження

- Змінні `Succs` (наступники), домен `Succs ins 1..N`.
- `circuit(Succs)` — один Hamiltonian цикл.
- Вартість через `element/3` по сплющеній матриці, `Cost #= sum(Ds)`.
- Пошук: `once(labeling([ffc, min(Cost)], Succs))` — мінімізація вартості при переборі.
- Тур будується обходом Succs починаючи з 1.

## Haskell bruteforce — permutations + pure tourCost

- `permutations [2..N]` — перебір усіх перестановок.
- Тур: `[1] ++ perm ++ [1]`, вартість — чиста функція `tourCost` по матриці.
- `minimumBy (compare `on` fst)` — пошук мінімуму за вартістю.
- Модель: явний перебір, чисті функції, немає побічних ефектів у логіці.

## Чому в Haskell лише bruteforce

- Контрольоване порівняння: мета — порівняти один і той самий підхід (bruteforce) у двох парадигмах. Реалізація CLP в Haskell потребує інших бібліотек (наприклад, `criterion`, `finite-domain`) і іншої моделі, що ускладнює чесне порівняння.
- Складність CLP у Haskell: нативної підтримки обмежень на рівні мови немає; потрібні зовнішні залежності та інший підхід до моделювання задачі.
- Достатність bruteforce для порівняння: bruteforce дозволяє чітко порівняти, як дві мови виражають той самий алгоритм і як це впливає на продуктивність.

## Висновок

Prolog демонструє декларативність (generate & test, CLP з обмеженнями), Haskell — явний перебір і чисті функції. Однаковий I/O забезпечує справедливе порівняння. Для N≤10 bruteforce дає корисні результати; для N=12 практично доречний лише CLP(FD) в Prolog.
